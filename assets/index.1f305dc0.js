import{t}from"./t5.5c6007cb.js";import{e as i,r as s,z as a,o as h,f as e,g as o}from"./vendor.d9a60650.js";class r{constructor(t){this.maxStars=1200;const{maxStars:i,canvas:s,ctx:a,starCanvas:h}=t;this.maxStars=i,this.ctx=a,this.canvas2=h;const e=s.width,o=s.height;this.orbitRadius=this.random(this.maxOrbit(e,o)),this.radius=this.random(60,this.orbitRadius)/12,this.orbitX=e/2,this.orbitY=o/2,this.timePassed=this.random(0,i),this.speed=this.random(this.orbitRadius)/1e6,this.alpha=this.random(2,10)/10}random(t,i=t){if(t>i){const s=i;i=t,t=s}return Math.floor(Math.random()*(i-t+1))+t}maxOrbit(t,i){const s=Math.max(t,i);return Math.round(Math.sqrt(s*s+s*s))/2}draw(){const t=Math.sin(this.timePassed)*this.orbitRadius+this.orbitX,i=Math.cos(this.timePassed)*this.orbitRadius+this.orbitY,s=this.random(10);1===s&&this.alpha>0?this.alpha-=.05:2===s&&this.alpha<1&&(this.alpha+=.05),this.ctx.globalAlpha=this.alpha,this.ctx.drawImage(this.canvas2,t-this.radius/2,i-this.radius/2,this.radius,this.radius),this.timePassed+=this.speed}}class d{constructor(){}init(i){const s=i,a=s.getContext("2d"),h=s.width=window.innerWidth,e=s.height=window.innerHeight,o=[],d=document.createElement("canvas"),n=d.getContext("2d");d.width=100,d.height=100;const l=d.width/2,c=n.createRadialGradient(l,l,0,l,l,l);c.addColorStop(.025,"#eee"),c.addColorStop(.1,"hsl(217, 61%, 33%)"),c.addColorStop(.25,"hsl(217, 64%, 6%)"),c.addColorStop(1,"transparent"),n.fillStyle=c,n.beginPath(),n.arc(l,l,l,0,2*Math.PI),n.fill();for(let t=0;t<1200;t++)o.push(new r({maxStars:1200,canvas:s,ctx:a,starCanvas:d}));!function i(){a.globalCompositeOperation="source-over",a.globalAlpha=.5,a.fillStyle="hsla(217, 64%, 6%, 2)",a.fillRect(0,0,h,e),function(t,i){const a=new Image;a.onload=i=>{t.drawImage(a,0,0,a.width,a.height,0,0,s.width,s.height)},a.src=i}(a,t),a.globalCompositeOperation="lighter";for(let t=1,s=o.length;t<s;t++)o[t].draw();window.requestAnimationFrame(i)}()}}function n(){const t=document.getElementById("canvas"),i=t.getContext("2d"),s=t.width=window.innerWidth,a=t.height=window.innerHeight,h=[],e=document.createElement("canvas"),o=e.getContext("2d");e.width=100,e.height=100;const r=e.width/2,d=o.createRadialGradient(r,r,0,r,r,r);function n(t,i=t){if(t>i){const s=i;i=t,t=s}return Math.floor(Math.random()*(i-t+1))+t}d.addColorStop(.025,"#eee"),d.addColorStop(.1,"hsl(217, 61%, 33%)"),d.addColorStop(.25,"hsl(217, 64%, 6%)"),d.addColorStop(1,"transparent"),o.fillStyle=d,o.beginPath(),o.arc(r,r,r,0,2*Math.PI),o.fill();class l{constructor(){this.orbitRadius=n(function(t,i){const s=Math.max(t,i);return Math.round(Math.sqrt(s*s+s*s))/2}(s,a)),this.radius=n(60,this.orbitRadius)/12,this.orbitX=s/2,this.orbitY=a/2,this.timePassed=n(0,1200),this.speed=n(this.orbitRadius)/1e6,this.alpha=n(2,10)/10}draw(){const t=Math.sin(this.timePassed)*this.orbitRadius+this.orbitX,s=Math.cos(this.timePassed)*this.orbitRadius+this.orbitY,a=n(10);1===a&&this.alpha>0?this.alpha-=.05:2===a&&this.alpha<1&&(this.alpha+=.05),i.globalAlpha=this.alpha,i.drawImage(e,t-this.radius/2,s-this.radius/2,this.radius,this.radius),this.timePassed+=this.speed}}for(let c=0;c<1200;c++)h.push(new l);!function e(){i.globalCompositeOperation="source-over",i.globalAlpha=.5,i.fillStyle="hsla(217, 64%, 6%, 2)",i.fillRect(0,0,s,a),function(i,s){const a=new Image;a.onload=s=>{i.drawImage(a,0,0,a.width,a.height,0,0,t.width,t.height)},a.src=s}(i,"./assets/T5.03361c86.jpg"),i.globalCompositeOperation="lighter";for(let t=1,i=h.length;t<i;t++)h[t].draw();window.requestAnimationFrame(e)}()}function l(t,i=t){if(arguments.length<2&&(i=t,t=0),t>i){let s=i;i=t,t=s}return Math.floor(Math.random()*(i-t+1))+t}class c{constructor(t,i,s,a,h){this.ctx=s,this.ctx2=a,this.canvas2=h,this.orbitRadius=l(function(t,i){let s=Math.max(t,i);return Math.round(Math.sqrt(s*s+s*s))/2}(t,i)),this.radius=l(60,this.orbitRadius)/15,this.radius>19&&(this.radius=19),this.orbitX=t/2,this.orbitY=i/2,this.timePassed=l(0,100),this.speed=l(this.orbitRadius)/8e5,this.alpha=l(2,10)/10}draw(){let t=Math.sin(this.timePassed)*this.orbitRadius+this.orbitX,i=Math.cos(this.timePassed)*this.orbitRadius+this.orbitY,s=l(10);1===s&&this.alpha>0?this.alpha-=.05:2===s&&this.alpha<1&&(this.alpha+=.05),this.ctx.globalAlpha=this.alpha,this.ctx.drawImage(this.canvas2,t-this.radius/2,i-this.radius/2,this.radius,this.radius),this.timePassed+=this.speed}}var m=i({name:"star",setup(){const t=s();return a((()=>{(new d).init(t.value),n(),(()=>{const t=document.getElementById("canvas1"),i=t.getContext("2d"),s=t.width=window.innerWidth,a=t.height=window.innerHeight,h=document.createElement("canvas"),e=h.getContext("2d");new c(s,a,i,e,h).draw()})()})),{demo1Ref:t}}});var u={star:"_star_1tmde_2",demo1:"_demo1_1tmde_7",demo2:"_demo2_1tmde_12",demo3:"_demo3_1tmde_17"};const p={ref:"demo3Ref",id:"canvas1",width:"400",height:"400"};(m.__cssModules={}).$style=u,m.render=function(t,i){return h(),e("div",{class:t.$style.star},[o("canvas",{ref:"demo1Ref",class:t.$style.demo1,width:"400",height:"400"},null,2),o("canvas",{ref:"demo2Ref",class:t.$style.demo2,id:"canvas",width:"400",height:"400"},null,2),o("canvas",p,null,512)],2)};export default m;
